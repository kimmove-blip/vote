<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>블록체인 모바일 투표 시스템 사용 안내서</title>
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif;
            line-height: 1.8;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #fff;
        }

        h1 {
            color: #1a56db;
            text-align: center;
            font-size: 28px;
            border-bottom: 3px solid #1a56db;
            padding-bottom: 20px;
            margin-bottom: 40px;
        }

        h2 {
            color: #1e40af;
            font-size: 22px;
            border-left: 4px solid #1a56db;
            padding-left: 15px;
            margin-top: 40px;
            page-break-after: avoid;
        }

        h3 {
            color: #374151;
            font-size: 18px;
            margin-top: 25px;
        }

        h4 {
            color: #4b5563;
            font-size: 16px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            page-break-inside: avoid;
        }

        th, td {
            border: 1px solid #d1d5db;
            padding: 12px;
            text-align: left;
        }

        th {
            background: #f3f4f6;
            font-weight: 600;
        }

        tr:nth-child(even) {
            background: #f9fafb;
        }

        .toc {
            background: #f3f4f6;
            padding: 25px;
            border-radius: 10px;
            margin: 30px 0;
        }

        .toc h2 {
            border-left: none;
            padding-left: 0;
            margin-top: 0;
        }

        .toc ol {
            margin: 0;
            padding-left: 25px;
        }

        .toc li {
            margin: 8px 0;
        }

        .toc a {
            color: #1a56db;
            text-decoration: none;
        }

        .diagram {
            background: #1f2937;
            color: #10b981;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            overflow-x: auto;
            white-space: pre;
            margin: 20px 0;
        }

        .screen-mockup {
            background: #f3f4f6;
            border: 2px solid #d1d5db;
            border-radius: 15px;
            padding: 15px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            white-space: pre;
        }

        .warning {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .warning strong {
            color: #92400e;
        }

        .info-box {
            background: #eff6ff;
            border-left: 4px solid #3b82f6;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .success-box {
            background: #d1fae5;
            border-left: 4px solid #10b981;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .step {
            background: #fff;
            border: 1px solid #e5e7eb;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .step-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: #1a56db;
            color: white;
            text-align: center;
            line-height: 30px;
            border-radius: 50%;
            margin-right: 10px;
            font-weight: bold;
        }

        ul, ol {
            padding-left: 25px;
        }

        li {
            margin: 8px 0;
        }

        code {
            background: #f3f4f6;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }

        .footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 2px solid #e5e7eb;
            text-align: center;
            color: #6b7280;
            font-size: 14px;
        }

        .contact-table {
            background: #f9fafb;
        }

        @media print {
            body {
                padding: 0;
            }

            h2 {
                page-break-after: avoid;
            }

            .step, table, .diagram {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <h1>🗳️ 블록체인 모바일 투표 시스템<br>사용 안내서</h1>

    <div class="toc">
        <h2>📋 목차</h2>
        <ol>
            <li><a href="#section1">시스템 소개</a></li>
            <li><a href="#section2">주요 기능</a></li>
            <li><a href="#section3">앱 설치 및 설정</a></li>
            <li><a href="#section4">인증 방법</a></li>
            <li><a href="#section5">투표 방법</a></li>
            <li><a href="#section6">투표 검증</a></li>
            <li><a href="#section7">보안 안내</a></li>
            <li><a href="#section8">FAQ</a></li>
            <li><a href="#section9">문의처</a></li>
        </ol>
    </div>

    <h2 id="section1">1. 시스템 소개</h2>

    <h3>1.1 개요</h3>
    <p>블록체인 모바일 투표 시스템은 최첨단 암호학 기술을 활용하여 투표의 무결성과 익명성을 <strong>수학적으로 보장</strong>하는 차세대 전자투표 시스템입니다.</p>

    <h3>1.2 핵심 기술</h3>
    <table>
        <tr>
            <th>기술</th>
            <th>설명</th>
        </tr>
        <tr>
            <td><strong>블록체인<br>(Hyperledger Fabric)</strong></td>
            <td>모든 투표 기록을 변조 불가능하게 저장</td>
        </tr>
        <tr>
            <td><strong>동형암호 (CGS)</strong></td>
            <td>투표 내용을 암호화한 상태로 집계</td>
        </tr>
        <tr>
            <td><strong>영지식증명 (ZKP)</strong></td>
            <td>신원 노출 없이 투표 자격 증명</td>
        </tr>
        <tr>
            <td><strong>분산신원증명 (DID)</strong></td>
            <td>탈중앙화된 본인 인증</td>
        </tr>
        <tr>
            <td><strong>생체인증 (FIDO2)</strong></td>
            <td>지문/얼굴 인식 보안</td>
        </tr>
    </table>

    <h3>1.3 시스템 특징</h3>
    <div class="success-box">
        <ul>
            <li><strong>완전한 익명성</strong>: 누가 어떤 후보에게 투표했는지 절대 알 수 없음</li>
            <li><strong>검증 가능성</strong>: 유권자가 직접 투표가 올바르게 기록되었는지 확인 가능</li>
            <li><strong>중복투표 방지</strong>: 암호학적 기법으로 1인 1표 보장</li>
            <li><strong>실시간 감사</strong>: 모든 과정이 블록체인에 기록되어 투명한 감사 가능</li>
        </ul>
    </div>

    <h2 id="section2">2. 주요 기능</h2>

    <h3>2.1 유권자 기능</h3>

    <h4>투표하기</h4>
    <ul>
        <li>진행 중인 선거 목록 확인</li>
        <li>후보자 정보 조회</li>
        <li>암호화된 투표 제출</li>
        <li>투표 영수증 발급</li>
    </ul>

    <h4>검증하기</h4>
    <ul>
        <li>내 투표가 올바르게 기록되었는지 확인</li>
        <li>블록체인 트랜잭션 조회</li>
        <li>영수증 코드로 투표 검증</li>
    </ul>

    <h3>2.2 화면 구성</h3>
    <div class="screen-mockup">┌─────────────────────────────────────┐
│           메인 화면                  │
├─────────────────────────────────────┤
│  ┌─────────────────────────────┐   │
│  │     진행 중인 선거           │   │
│  │  • 2024 대통령 선거          │   │
│  │  • 2024 지방선거            │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │     내 투표 현황             │   │
│  │  참여: 2 / 대기: 1           │   │
│  └─────────────────────────────┘   │
├─────────────────────────────────────┤
│  [홈]   [검증]   [설정]            │
└─────────────────────────────────────┘</div>

    <h2 id="section3">3. 앱 설치 및 설정</h2>

    <h3>3.1 시스템 요구사항</h3>
    <table>
        <tr>
            <th>구분</th>
            <th>요구사항</th>
        </tr>
        <tr>
            <td>iOS</td>
            <td>iOS 14.0 이상</td>
        </tr>
        <tr>
            <td>Android</td>
            <td>Android 10.0 이상</td>
        </tr>
        <tr>
            <td>저장공간</td>
            <td>최소 100MB</td>
        </tr>
        <tr>
            <td>네트워크</td>
            <td>인터넷 연결 필수</td>
        </tr>
    </table>

    <h3>3.2 설치 방법</h3>

    <div class="step">
        <h4>iOS 설치</h4>
        <ol>
            <li>App Store에서 "블록체인 투표" 검색</li>
            <li>"받기" 버튼 클릭</li>
            <li>Face ID 또는 Touch ID로 설치 확인</li>
        </ol>
    </div>

    <div class="step">
        <h4>Android 설치</h4>
        <ol>
            <li>Google Play Store에서 "블록체인 투표" 검색</li>
            <li>"설치" 버튼 클릭</li>
            <li>필요한 권한 허용</li>
        </ol>
    </div>

    <h3>3.3 초기 설정</h3>
    <ol>
        <li>앱 실행</li>
        <li>이용약관 동의</li>
        <li>DID 지갑 연결 (4장 참조)</li>
        <li>생체인증 등록 (선택)</li>
    </ol>

    <h2 id="section4">4. 인증 방법</h2>

    <h3>4.1 DID 인증</h3>
    <p>DID(분산신원증명)는 정부나 기업이 아닌 개인이 직접 관리하는 디지털 신원증명입니다.</p>

    <div class="diagram">┌──────────────┐     ┌──────────────┐     ┌──────────────┐
│   투표 앱    │────▶│  DID 지갑    │────▶│   검증 완료   │
│  인증 요청   │     │  승인 확인   │     │   토큰 발급   │
└──────────────┘     └──────────────┘     └──────────────┘</div>

    <div class="step">
        <h4>인증 절차</h4>
        <ol>
            <li><span class="step-number">1</span>"DID로 로그인" 버튼 클릭</li>
            <li><span class="step-number">2</span>DID 지갑 앱 자동 실행</li>
            <li><span class="step-number">3</span>인증 요청 확인 후 승인</li>
            <li><span class="step-number">4</span>투표 앱으로 자동 복귀</li>
        </ol>
    </div>

    <h3>4.2 생체인증 설정</h3>
    <p>빠른 재로그인을 위해 생체인증을 등록할 수 있습니다.</p>
    <ol>
        <li>설정 > 보안 > 생체인증</li>
        <li>"생체인증 등록" 선택</li>
        <li>지문 또는 얼굴 등록</li>
    </ol>

    <h2 id="section5">5. 투표 방법</h2>

    <h3>5.1 투표 전 확인사항</h3>
    <table>
        <tr>
            <th>확인사항</th>
            <th>설명</th>
        </tr>
        <tr>
            <td>투표 기간</td>
            <td>선거 기간 내인지 확인</td>
        </tr>
        <tr>
            <td>네트워크</td>
            <td>안정적인 인터넷 연결</td>
        </tr>
        <tr>
            <td>배터리</td>
            <td>충분한 배터리 잔량 (20% 이상 권장)</td>
        </tr>
        <tr>
            <td>시간</td>
            <td>투표 완료까지 약 3-5분 소요</td>
        </tr>
    </table>

    <h3>5.2 투표 절차</h3>

    <div class="step">
        <h4><span class="step-number">1</span>선거 선택</h4>
        <div class="screen-mockup">┌─────────────────────────────────────┐
│          선거 목록                   │
├─────────────────────────────────────┤
│  ┌─────────────────────────────┐   │
│  │ ✅ 2024 대통령 선거          │   │
│  │    기간: 03/09 06:00~18:00   │   │
│  │    상태: 투표 가능            │   │
│  └─────────────────────────────┘   │
└─────────────────────────────────────┘</div>
    </div>

    <div class="step">
        <h4><span class="step-number">2</span>후보자 선택</h4>
        <div class="screen-mockup">┌─────────────────────────────────────┐
│          후보자 선택                 │
├─────────────────────────────────────┤
│  기호 1번  홍길동  ○○당            │
│  ├────────────────────────────┤    │
│  기호 2번  김철수  △△당      ✓    │
│  ├────────────────────────────┤    │
│  기호 3번  이영희  □□당            │
├─────────────────────────────────────┤
│         [확인하기]                   │
└─────────────────────────────────────┘</div>
    </div>

    <div class="step">
        <h4><span class="step-number">3</span>투표 확인</h4>
        <div class="screen-mockup">┌─────────────────────────────────────┐
│          투표 확인                   │
├─────────────────────────────────────┤
│                                     │
│    선택하신 후보:                    │
│    ┌───────────────────────┐       │
│    │   기호 2번  김철수      │       │
│    │   △△당               │       │
│    └───────────────────────┘       │
│                                     │
│  ⚠️ 투표 후에는 변경할 수 없습니다   │
├─────────────────────────────────────┤
│   [취소]           [투표하기]        │
└─────────────────────────────────────┘</div>
    </div>

    <div class="step">
        <h4><span class="step-number">4</span>투표 완료</h4>
        <div class="screen-mockup">┌─────────────────────────────────────┐
│          투표 완료                   │
├─────────────────────────────────────┤
│             ✓                       │
│      투표가 완료되었습니다           │
│                                     │
│    검증 코드: A7F3B2C9D1E4         │
│    (이 코드를 저장해 주세요)         │
│                                     │
│    블록체인 TX: 0x7a8b...3c2d      │
├─────────────────────────────────────┤
│  [코드 복사]        [완료]          │
└─────────────────────────────────────┘</div>
    </div>

    <div class="warning">
        <strong>⚠️ 중요 안내</strong>
        <ul>
            <li>투표는 1인 1회만 가능합니다</li>
            <li>제출 후 변경이 불가능합니다</li>
            <li>검증 코드를 반드시 저장하세요</li>
            <li>투표 중 앱을 종료하지 마세요</li>
        </ul>
    </div>

    <h2 id="section6">6. 투표 검증</h2>

    <h3>6.1 검증 유형</h3>
    <table>
        <tr>
            <th>검증 유형</th>
            <th>설명</th>
            <th>확인 내용</th>
        </tr>
        <tr>
            <td>Cast-as-intended</td>
            <td>의도대로 투표됨</td>
            <td>내 투표가 올바르게 암호화됨</td>
        </tr>
        <tr>
            <td>Recorded-as-cast</td>
            <td>기록대로 저장됨</td>
            <td>암호화된 투표가 블록체인에 기록됨</td>
        </tr>
        <tr>
            <td>Tallied-as-recorded</td>
            <td>기록대로 집계됨</td>
            <td>모든 투표가 정확히 집계됨</td>
        </tr>
    </table>

    <h3>6.2 검증 방법</h3>

    <div class="step">
        <h4>내 투표 검증하기</h4>
        <ol>
            <li>하단 메뉴에서 "검증" 탭 선택</li>
            <li>검증 코드 입력</li>
            <li>"검증하기" 버튼 클릭</li>
        </ol>
        <div class="screen-mockup">┌─────────────────────────────────────┐
│          투표 검증                   │
├─────────────────────────────────────┤
│    검증 코드 입력:                   │
│    ┌───────────────────────┐       │
│    │  A7F3B2C9D1E4         │       │
│    └───────────────────────┘       │
│           [검증하기]                 │
└─────────────────────────────────────┘</div>
    </div>

    <div class="success-box">
        <h4>✓ 검증 성공 결과</h4>
        <ul>
            <li>선거: 2024 대통령 선거</li>
            <li>상태: 블록체인 확인됨 ✓</li>
            <li>투표 해시: 0x7a8b...</li>
            <li>블록 번호: 12345</li>
        </ul>
    </div>

    <h2 id="section7">7. 보안 안내</h2>

    <h3>7.1 암호화 보안</h3>
    <div class="diagram">투표자 ──▶ 투표 선택 ──▶ 암호화 ──▶ 블록체인 기록
                          │
                    영지식증명 생성
                    (신원 비공개)</div>

    <div class="info-box">
        <ul>
            <li><strong>암호화</strong>: 모든 투표는 CGS 동형암호로 암호화</li>
            <li><strong>익명성</strong>: 영지식증명으로 신원 노출 없이 자격 증명</li>
            <li><strong>무결성</strong>: 블록체인에 기록되어 위변조 불가</li>
        </ul>
    </div>

    <h3>7.2 개인정보 보호</h3>
    <table>
        <tr>
            <th>항목</th>
            <th>보호 방법</th>
        </tr>
        <tr>
            <td>투표 내용</td>
            <td>동형암호화 (복호화 키 분산 보관)</td>
        </tr>
        <tr>
            <td>투표자 신원</td>
            <td>영지식증명 (신원 연결 불가)</td>
        </tr>
        <tr>
            <td>인증 정보</td>
            <td>DID (분산 저장, 본인만 접근)</td>
        </tr>
        <tr>
            <td>통신 데이터</td>
            <td>TLS 1.3 암호화</td>
        </tr>
    </table>

    <h3>7.3 보안 권장사항</h3>
    <div class="warning">
        <strong>안전한 투표를 위한 권장사항</strong>
        <ol>
            <li>공식 앱스토어에서만 앱 다운로드</li>
            <li>앱을 항상 최신 버전으로 유지</li>
            <li>공공 Wi-Fi 대신 모바일 데이터 사용 권장</li>
            <li>검증 코드는 안전한 곳에 보관</li>
            <li>타인에게 DID 인증 요청 절대 승인 금지</li>
        </ol>
    </div>

    <h2 id="section8">8. FAQ</h2>

    <div class="step">
        <h4>Q1. 투표 중 앱이 종료되면 어떻게 되나요?</h4>
        <p>A: 투표 제출 전이라면 처음부터 다시 진행해야 합니다. 제출이 완료된 경우 검증 코드로 투표 상태를 확인할 수 있습니다.</p>
    </div>

    <div class="step">
        <h4>Q2. 투표 후 선택을 변경할 수 있나요?</h4>
        <p>A: 아니요, 제출된 투표는 블록체인에 기록되어 변경이 불가능합니다. 이는 투표의 무결성을 보장하기 위함입니다.</p>
    </div>

    <div class="step">
        <h4>Q3. 검증 코드를 분실했습니다.</h4>
        <p>A: 보안상의 이유로 검증 코드를 재발급할 수 없습니다. 다만, 투표 자체는 정상적으로 기록되어 있습니다.</p>
    </div>

    <div class="step">
        <h4>Q4. 다른 기기에서 투표할 수 있나요?</h4>
        <p>A: DID 인증을 통해 다른 기기에서도 투표할 수 있습니다. 단, 이미 투표한 선거에는 재투표할 수 없습니다.</p>
    </div>

    <div class="step">
        <h4>Q5. 투표 결과는 언제 확인할 수 있나요?</h4>
        <p>A: 선거 종료 후 집계가 완료되면 앱과 공식 웹사이트에서 결과를 확인할 수 있습니다.</p>
    </div>

    <div class="step">
        <h4>Q6. 내 투표가 누구에게 갔는지 누가 알 수 있나요?</h4>
        <p>A: 아니요, <strong>절대 알 수 없습니다</strong>. 동형암호화와 영지식증명 기술로 투표 내용과 투표자 연결이 수학적으로 불가능합니다.</p>
    </div>

    <h2 id="section9">9. 문의처</h2>

    <h3>고객센터</h3>
    <table class="contact-table">
        <tr>
            <th>연락처</th>
            <th>정보</th>
        </tr>
        <tr>
            <td>전화</td>
            <td>1588-0000 (평일 09:00-18:00)</td>
        </tr>
        <tr>
            <td>이메일</td>
            <td>support@voting.example.com</td>
        </tr>
        <tr>
            <td>카카오톡</td>
            <td>@블록체인투표</td>
        </tr>
    </table>

    <h3>긴급 문의 (선거일)</h3>
    <ul>
        <li>전화: <strong>1588-0001</strong> (24시간)</li>
        <li>현장 지원: 각 투표소 담당자</li>
    </ul>

    <h3>관련 웹사이트</h3>
    <ul>
        <li>공식 홈페이지: https://voting.example.com</li>
        <li>선거 정보: https://nec.go.kr</li>
        <li>기술 문서: https://docs.voting.example.com</li>
    </ul>

    <div class="footer">
        <p><strong>문서 버전</strong>: 1.0.0 | <strong>최종 수정일</strong>: 2024년 3월</p>
        <p><strong>발행처</strong>: 블록체인 투표 시스템 운영팀</p>
        <p><em>본 안내서의 내용은 시스템 업데이트에 따라 변경될 수 있습니다.</em></p>
    </div>
</body>
</html>
